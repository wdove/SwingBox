(function(b){var a=function(k,m){var g=k.offset(),h=0,l="px",f=[0,0,0,0,2,0,3,3,5,2,-1,6,5,5,5,-2],j=[],e;function d(q,p,t){var u={},s=Object.keys(p),n=s.length,r=0,o;for(;r<n;r++){o=s[r];if(p[o]!==t[o]){u[o]=t[o]+l}}if(Object.keys(u).length>0){q.stop().animate(u)}}function c(i,n){return i+f[(i%4)*4+n]}k.children().each(function(i){j[i]={left:g.left+(i%4)*m.Width,top:g.top+parseInt(i/4,10)*m.Height,width:m.Width,height:m.Height};b(this).data("i",i).data("t",j[i]).css({left:j[i].left+l,top:j[i].top+l,width:j[i].width+l,height:j[i].height+l,position:"absolute"});h=i}).click(function(){var i=b(this),n=i.data("i"),o=n%4;k.children().each(function(){var s=b(this),p=s.data("i"),r=p-n,q;if(r===0){q=b.extend({},j[c(p,o)]);q.width*=3;q.height*=2}else{if(-o<=r&&r<4-o){q=j[c(p,o)]}else{if(r<0){q=j[p]}else{q=j[p+4+1]}}}d(s,s.data("t"),q);s.data("t",q)})});for(e=h+1;e<=h+7;e++){j[e]={left:g.left+(e%4)*m.Width,top:g.top+parseInt(e/4,10)*m.Height,width:m.Width,height:m.Height}}};b.fn.swingBox=function(c){c=b.extend({},b.fn.swingBox.defaults,c);return this.each(function(){new a(b(this),c)})};b.fn.swingBox.defaults={Width:200,Height:200}})(jQuery);
